<!doctype html><html lang=en><head><meta charset=utf-8><title>Hello! Bluemsun | ç»„ä»¶å¤ç”¨render propså’Œé«˜é˜¶ç»„ä»¶</title>
<meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.jpg><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.jpg><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.jpg><link rel=manifest href=../../site.webmanifest><link href=../../css/fa6.min.css rel=stylesheet type=text/css><link rel=stylesheet href="/css/style.min.40812234b83a7528f146434aa7a8138a0becf462fc0198a769e5fd3229e079d2.css"><link href=../../css/style.min.css rel=stylesheet type=text/css><link rel=stylesheet href=../../css/custom.css><meta property="og:title" content="Hello! Bluemsun | ç»„ä»¶å¤ç”¨render propså’Œé«˜é˜¶ç»„ä»¶"><meta name=description content="Reactç»„ä»¶å¤ç”¨æ¦‚è¿°Â·render propsæ¨¡å¼Â·é«˜é˜¶ç»„ä»¶"><meta property="og:title" content=" | "><meta property="og:site_name" content="Hello! Bluemsun"><meta property="og:description" content="Reactç»„ä»¶å¤ç”¨æ¦‚è¿°Â·render propsæ¨¡å¼Â·é«˜é˜¶ç»„ä»¶"><meta property="og:url" content="http://www.bluemsun.com.cn/blog/2zlz/"><meta property="og:type" content="article"><meta property="og:locale" content><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@tech_chiba"><link rel=canonical href=http://www.bluemsun.com.cn/blog/2zlz/><meta name=twitter:description content="Reactç»„ä»¶å¤ç”¨æ¦‚è¿°Â·render propsæ¨¡å¼Â·é«˜é˜¶ç»„ä»¶"><meta property="article:published_time" content="2024-10-06T13:02:51+08:00"><meta property="article:updated_time" content="2024-10-06T13:02:51+08:00"><meta property="og:image" content="http://www.bluemsun.com.cn/img/blog_pic/%E5%89%8D%E7%AB%AF.jpg"><meta name=twitter:title content="ç»„ä»¶å¤ç”¨render propså’Œé«˜é˜¶ç»„ä»¶"><link rel=preload href=../../css/sweetalert2.min.css as=style onload='this.onload=null,this.rel="stylesheet"'></head><body class="flex flex-col min-h-screen"><main class=flex-grow><header><div id=overlay><ul class="text-center list-none text-white text-3xl"><li class=p-2><a href=../../><span>ğŸ è¿”å›ä¸»é¡µ</span></a></li><li class=p-2><a href=../../products/><span>ğŸ’»é¡¹ç›®ä»‹ç»</span></a></li><li class=p-2><a href=../../about/><span>â˜€ï¸å…³äºè“æ—­</span></a></li><li class=p-2><a href=../../blog/><span>ğŸ“„å¾€æœŸåšå®¢</span></a></li><li class=p-2><a href=../../contact/><span>ğŸ˜†åŠ å…¥æˆ‘ä»¬</span></a></li></ul></div><nav class="flex items-center justify-between flex-wrap bg-opacity-80 p-4"><div class="flex items-center flex-shrink-0 text-xl text-grey-900 mr-6 flex-row"><a href=http://www.bluemsun.com.cn/ class="flex items-center flex-shrink-0 text-black mr-6"><img alt="Bluemsun Studio" class="lg:h-14 h-10" src=../../img/logo/logo.jpg><div><h1 class="px-2 text-4xl tracking-tighter text-balance max-lg:font-medium max-sm:px-4 sm:text-5xl lg:text-6xl xl:text-8xl">è“æ—­å·¥ä½œå®¤</h1><h2 class="px-2 text-xl tracking-tighter text-balance max-lg:font-medium max-sm:px-4 sm:text-3xl lg:text-4xl xl:text-6xl">Bluemsun Studio</h2></div></a></div><div class="block lg:hidden"><div id=hamburgerbtn class="flex cursor-pointer items-center w-6 h-6 py-2 rounded mopen"><span class=top></span>
<span class=middle></span>
<span class=bottom></span></div></div><div class="hidden w-full block flex-grow lg:flex lg:items-center lg:w-auto" id=mobileMenu><div class="text-lg lg:flex-grow"></div><div class=text-xl><a href=../../ class="duration-200 block mt-4 lg:inline-block lg:mt-0 text-black hover:opacity-60 mr-8 px-2 py-1 rounded">ğŸ è¿”å›ä¸»é¡µ
</a><a href=../../products/ class="duration-200 block mt-4 lg:inline-block lg:mt-0 text-black hover:opacity-60 mr-8 px-2 py-1 rounded">ğŸ’»é¡¹ç›®ä»‹ç»
</a><a href=../../about/ class="duration-200 block mt-4 lg:inline-block lg:mt-0 text-black hover:opacity-60 mr-8 px-2 py-1 rounded">â˜€ï¸å…³äºè“æ—­
</a><a href=../../blog/ class="duration-200 block mt-4 lg:inline-block lg:mt-0 text-black hover:opacity-60 mr-8 px-2 py-1 rounded">ğŸ“„å¾€æœŸåšå®¢
</a><a href=../../contact/ class="duration-200 block mt-4 lg:inline-block lg:mt-0 text-black hover:opacity-60 mr-8 px-2 py-1 rounded">ğŸ˜†åŠ å…¥æˆ‘ä»¬</a></div></div></nav></header><div class="scroll-top rounded-full"><span class="icon-keyboard_arrow_up text-2xl"></span></div><div class="mx-auto my-10 max-w-6xl"><div class="mx-3 col-span-3 lg:col-span-2 px-2 bg-white my-10"><h1 class="title text-5xl font-bold mt-10 h-fit"><i class="fa-solid fa-heading"></i>
ç»„ä»¶å¤ç”¨render propså’Œé«˜é˜¶ç»„ä»¶</h1><section class="mb-4 text-lg flex flex-row items-center"><h4 id=date class="flex flex-row items-center p-3"><i class="fa-regular fa-clock mr-2" style=color:#74c0fc></i>
2024/10/06</h4><h4 class="flex flex-row items-center p-3"><i class="fa-solid fa-pen-nib mr-2" style=color:#ffd43b></i>
å¼ ä¿ªä¹‹</h4><div id=categories class="flex flex-row items-center p-3"><i class="fa-regular fa-folder-open mr-2" style=color:#63e6be></i>
<span class="inline-flex py-1 leading-4 content-center justify-center px-1 text-blue-600 hover:text-blue-800 duration-200"><a href=http://www.bluemsun.com.cn/categories/%E5%89%8D%E7%AB%AF>å‰ç«¯</a></span></div></section><div class="m-2 featured-image"><img class=my-4 sizes=auto height=auto width=auto src=http://www.bluemsun.com.cn/img/blog_pic/%E5%89%8D%E7%AB%AF.jpg></div><div class="content prose md:prose-lg lg:prose-xl max-w-none bg-white p-8 border-black" style="border:dashed 1px #ff4365"><h2 id=ç»„ä»¶å¤ç”¨render-propså’Œé«˜é˜¶ç»„ä»¶>ç»„ä»¶å¤ç”¨render propså’Œé«˜é˜¶ç»„ä»¶</h2><h4 id=ä¸€reactç»„ä»¶å¤ç”¨æ¦‚è¿°>ä¸€ã€Reactç»„ä»¶å¤ç”¨æ¦‚è¿°</h4><h6 id=11-æ€è€ƒå¦‚æœä¸¤ä¸ªç»„ä»¶ä¸­çš„éƒ¨åˆ†åŠŸèƒ½ç›¸ä¼¼æˆ–ç›¸åŒè¯¥å¦‚ä½•å¤„ç†>1.1 æ€è€ƒï¼šå¦‚æœä¸¤ä¸ªç»„ä»¶ä¸­çš„éƒ¨åˆ†åŠŸèƒ½ç›¸ä¼¼æˆ–ç›¸åŒï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼Ÿ</h6><h6 id=12-å¤„ç†æ–¹å¼>1.2 å¤„ç†æ–¹å¼ï¼š</h6><p><strong>å¤ç”¨</strong>ç›¸ä¼¼çš„åŠŸèƒ½ï¼ˆ=>è”æƒ³å‡½æ•°å°è£…ï¼‰</p><h6 id=13-å¤ç”¨ä»€ä¹ˆ>1.3 å¤ç”¨ä»€ä¹ˆï¼Ÿ</h6><blockquote><ol><li>stateï¼ˆçŠ¶æ€ï¼‰</li><li>æ“ä½œstateçš„æ–¹æ³•ï¼ˆé€»è¾‘ï¼‰</li></ol><p><strong>ç»„ä»¶çŠ¶æ€é€»è¾‘</strong></p></blockquote><h6 id=14-ä¸¤ç§æ–¹å¼>1.4 ä¸¤ç§æ–¹å¼ï¼š</h6><ul><li>render propsæ¨¡å¼</li><li>é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰Higher-order components</li></ul><h6 id=15-æ³¨æ„>1.5 æ³¨æ„ï¼š</h6><p>è¿™ä¸¤ç§æ–¹å¼ä¸æ˜¯æ–°çš„APIï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¹¶ä¸æ˜¯Reactä¸­ç›´æ¥æä¾›å¥½çš„ä¸€ç§æ–¹æ³•ï¼Œç›´æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥å®ç°å¤ç”¨ï¼Œè€Œæ˜¯åˆ©ç”¨Reactè‡ªèº«ç‰¹ç‚¹çš„ç¼–ç æŠ€å·§ï¼Œé€æ¸æ¼”åŒ–æˆçš„çš„å›ºå®šæ¨¡å¼ï¼ˆå†™æ³•ï¼‰</p><h4 id=äºŒrender-propsæ¨¡å¼>äºŒã€render propsæ¨¡å¼</h4><p>render props æ ¸å¿ƒæ€æƒ³è¿˜æ˜¯åˆ©ç”¨<strong>å­å‘çˆ¶ä¼ å€¼æ—¶å€™çš„å›è°ƒå‡½æ•°</strong></p><h6 id=21-æ€è·¯åˆ†æ>2.1 æ€è·¯åˆ†æï¼š</h6><blockquote><ul><li><p>æ€è·¯ï¼šå°†è¦å¤ç”¨çš„stateå’Œæ“ä½œstateçš„æ–¹æ³•å°è£…åˆ°ä¸€ä¸ªç»„ä»¶ä¸­</p></li><li><p>é—®é¢˜1ï¼šå¦‚ä½•æ‹¿åˆ°è¯¥ç»„ä»¶ä¸­å¤ç”¨çš„stateï¼Ÿ</p><p>(çŠ¶æ€æ˜¯å­˜åœ¨äºç»„ä»¶å†…éƒ¨çš„ï¼Œé‚£ä¹ˆè¦åœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯åœ¨ç»„ä»¶çš„å¤–éƒ¨æ‹¿åˆ°è¿™ä¸ªçŠ¶æ€æ€ä¹ˆå»è·å–)</p><p>åœ¨ä½¿ç”¨ç»„ä»¶æ—¶ï¼Œæ·»åŠ ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„propï¼Œé€šè¿‡å‡½æ•°å‚æ•°æ¥è·å–ï¼ˆéœ€è¦ç»„ä»¶å†…éƒ¨å®ç°ï¼‰</p></li><li><p>é—®é¢˜2ï¼šå¦‚ä½•æ¸²æŸ“ä»»æ„UIï¼Ÿ</p><p>ä½¿ç”¨è¯¥å‡½æ•°çš„è¿”å›å€¼ä½œä¸ºè¦æ¸²æŸ“çš„UIå†…å®¹ï¼ˆéœ€è¦ç»„ä»¶å†…éƒ¨å®ç°ï¼‰</p></li></ul></blockquote><p>æ¯”å¦‚ï¼šç°åœ¨å·²ç»æœ‰äº†ä¸€ä¸ªå°è£…å¥½çš„ç»„ä»¶</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span>&lt;<span style=color:#f92672>Mouse</span> <span style=color:#a6e22e>render</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>mouse</span>)=&gt;{}}/&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>//æ·»åŠ äº†ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„propï¼Œåå­—ä¸ºrenderï¼Œå®ƒçš„å€¼ä¸ºå‡½æ•°ï¼Œå› ä¸ºå®ƒæ˜¯åœ¨ç»„ä»¶å†…éƒ¨è°ƒç”¨çš„ï¼Œé‚£ä¹ˆåœ¨ç»„ä»¶å†…éƒ¨è°ƒç”¨æ—¶ï¼Œå°±å¯ä»¥æŠŠç»„ä»¶å†…éƒ¨çš„çŠ¶æ€é€šè¿‡å‚æ•°æ¥è¢«æš´éœ²å‡ºæ¥ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡è¿™ä¸ªå‚æ•°æ¥æ‹¿åˆ°è¿™ä¸ªçŠ¶æ€äº†
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span>&lt;<span style=color:#f92672>Mouse</span> <span style=color:#a6e22e>render</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>mouse</span>)=&gt;(
</span></span><span style=display:flex><span>	&lt;<span style=color:#f92672>p</span>&gt;<span style=color:#a6e22e>é¼ æ ‡å½“å‰ä½ç½®</span>{<span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>x</span>},{<span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>y</span>}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>)}/&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>//é€šè¿‡å‡½æ•°å½¢å‚mouseæ‹¿åˆ°é¼ æ ‡çŠ¶æ€ï¼Œé€šè¿‡è¿”å›å€¼æŒ‡å®šè¦æ¸²æŸ“çš„å†…å®¹
</span></span></span></code></pre></div><blockquote><p>è¡¥å……ï¼ï¼ï¼</p><p>ç®­å¤´å‡½æ•°</p><p>ç®­å¤´å‡½æ•°çš„ä¸€èˆ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>(<span style=color:#a6e22e>param1</span>, <span style=color:#a6e22e>param2</span>, ..., <span style=color:#a6e22e>paramN</span>) =&gt; {
</span></span><span style=display:flex><span><span style=color:#75715e>// å‡½æ•°ä½“
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>å‡½æ•°ä½“æ˜¯ä¸€ä¸ªå—ï¼ˆä½¿ç”¨å¤§æ‹¬å· <code>{}</code>ï¼‰ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ <code>return</code> å…³é”®å­—æ¥æ˜ç¡®è¿”å›å€¼</p><p>å¦‚æœå‡½æ•°ä½“åªæœ‰ä¸€æ¡è¯­å¥ï¼Œå¹¶ä¸”è¦è¿”å›ä¸€ä¸ªå€¼ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ä¸ºï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>(<span style=color:#a6e22e>param1</span>, <span style=color:#a6e22e>param2</span>, ..., <span style=color:#a6e22e>paramN</span>) =&gt; <span style=color:#a6e22e>expression</span>
</span></span></code></pre></div><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦ä½¿ç”¨ <code>return</code> å…³é”®å­—ï¼Œè¡¨è¾¾å¼çš„ç»“æœå°†è‡ªåŠ¨æˆä¸ºå‡½æ•°çš„è¿”å›å€¼</p></blockquote><h6 id=22-ä½¿ç”¨æ­¥éª¤>2.2 ä½¿ç”¨æ­¥éª¤ï¼š</h6><ul><li>åˆ›å»ºMouseç»„ä»¶ï¼Œåœ¨ç»„ä»¶ä¸­æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ï¼ˆâ‘ çŠ¶æ€ â‘¡æ“ä½œçŠ¶æ€çš„æ–¹æ³•ï¼‰</li><li>å°†è¦å¤ç”¨çš„çŠ¶æ€ä½œä¸ºprops.render(state)æ–¹æ³•çš„å‚æ•°ï¼Œæš´éœ²åˆ°ç»„ä»¶å¤–éƒ¨</li><li>ä½¿ç”¨props.render()çš„è¿”å›å€¼ä½œä¸ºè¦æ¸²æŸ“çš„å†…å®¹</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#75715e>//9.26è‡ªå­¦è‡ªè®²
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>ReactDOM</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react-dom&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>// render propsæ¨¡å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e>//1.åˆ›å»ºmouseç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Mouse</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>//é¼ æ ‡ä½ç½®state
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   <span style=color:#a6e22e>state</span><span style=color:#f92672>=</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>   <span style=color:#75715e>//é¼ æ ‡ç§»åŠ¨äº‹ä»¶å¤„ç†ç¨‹åº è¦æ‹¿è¦é¼ æ ‡ä½ç½®å°±è¦é€šè¿‡äº‹ä»¶å¯¹è±¡eæ¥è·å–
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   <span style=color:#a6e22e>handleMouseMove</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>e</span> =&gt;{
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>setState</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>clientX</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>clientY</span>
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#75715e>//ç›‘å¬é¼ æ ‡çš„ç§»åŠ¨,componentDidMountè¿™ä¸ªé’©å­å‡½æ•°æ˜¯åˆ›å»ºæ—¶çš„å‹¾å­å‡½æ•°ï¼Œå®ƒä¼šåœ¨ç»„ä»¶å®Œæˆæ¸²æŸ“ä¹‹åæ¥è¿›è¡Œæ‰§è¡Œ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   <span style=color:#a6e22e>componentDidMount</span>(){
</span></span><span style=display:flex><span>      window.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;mousemove&#39;</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>handleMouseMove</span>)
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>    <span style=color:#75715e>//renderæ–¹æ³•æ¥å—ä¸€ä¸ªrenderå±æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶å½“å‰çš„stateä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªJSXå…ƒç´ ã€‚renderæ–¹æ³•è¿”å›this.props.render(this.state)ï¼Œå³è°ƒç”¨çˆ¶ç»„ä»¶ä¼ é€’çš„renderå‡½æ•°ï¼Œå¹¶ä¼ é€’å½“å‰çš„é¼ æ ‡ä½ç½®çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   <span style=color:#a6e22e>render</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>render</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>state</span>)
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>App</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>render</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>h1</span>&gt;<span style=color:#a6e22e>render</span> <span style=color:#a6e22e>propsæ¨¡å¼</span>&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>         {<span style=color:#75715e>/* mouseæŒ‡çš„å°±æ˜¯this.state  æ–¹æ³•ä¸€å®šè¦æœ‰è¿”å›å€¼*/</span>}
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>Mouse</span> <span style=color:#a6e22e>render</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>mouse</span>)=&gt;
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>å½“å‰é¼ æ ‡ä½ç½®</span>{<span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>x</span>},{<span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>y</span>}
</span></span><span style=display:flex><span>              &lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        /&gt;
</span></span><span style=display:flex><span>         {<span style=color:#75715e>/* &lt;Mouse render={(mouse)=&gt;(&lt;p&gt;é¼ æ ‡å½“å‰ä½ç½®{mouse.x},{mouse.y}&lt;/p&gt;)}/&gt; */</span>}
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>ReactDOM</span>.<span style=color:#a6e22e>render</span>(&lt;<span style=color:#f92672>App</span> /&gt;, document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;root&#39;</span>));
</span></span></code></pre></div><p>åœ¨ä½¿ç”¨ç»„ä»¶æ—¶ï¼Œåªè¦ä¼ å…¥ä¸€ä¸ªrenderçš„å‡½æ•°ï¼Œé€šè¿‡å®ƒçš„å‚æ•°å°±å¯ä»¥æ‹¿åˆ°ç»„ä»¶å†…éƒ¨æš´éœ²çš„çŠ¶æ€ï¼Œç„¶åå°±å¯ä»¥ç”¨è¿™äº›çŠ¶æ€æ¥åšä¸€äº›äº‹æƒ…äº†</p><p>renderæ–¹æ³•çš„è¿”å›å€¼æ¥å†³å®šè¦æ¸²æŸ“ä»€ä¹ˆå†…å®¹</p><h6 id=æ¼”ç¤ºmouseç»„ä»¶çš„å¤ç”¨>æ¼”ç¤ºMouseç»„ä»¶çš„å¤ç”¨</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>ReactDOM</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react-dom&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>//å¯¼å…¥å›¾ç‰‡èµ„æº
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>img</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./images/cat.jpg&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// render propsæ¨¡å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e>//1.åˆ›å»ºmouseç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Mouse</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>//é¼ æ ‡ä½ç½®state
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   <span style=color:#a6e22e>state</span><span style=color:#f92672>=</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>   <span style=color:#75715e>//é¼ æ ‡ç§»åŠ¨äº‹ä»¶å¤„ç†ç¨‹åº è¦æ‹¿è¦é¼ æ ‡ä½ç½®å°±è¦é€šè¿‡äº‹ä»¶å¯¹è±¡eæ¥è·å–
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   <span style=color:#a6e22e>handleMouseMove</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>e</span> =&gt;{
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>setState</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>clientX</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>clientY</span>
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>   <span style=color:#75715e>//ç›‘å¬é¼ æ ‡çš„ç§»åŠ¨,componentDidMountè¿™ä¸ªé’©å­å‡½æ•°æ˜¯åˆ›å»ºæ—¶çš„é’©å­å‡½æ•°ï¼Œå®ƒä¼šåœ¨ç»„ä»¶å®Œæˆæ¸²æŸ“ä¹‹åæ¥è¿›è¡Œæ‰§è¡Œ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   <span style=color:#a6e22e>componentDidMount</span>(){
</span></span><span style=display:flex><span>      window.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;mousemove&#39;</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>handleMouseMove</span>)
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>render</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>render</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>state</span>)
</span></span><span style=display:flex><span>       <span style=color:#75715e>//renderæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨å‡½æ•°çš„æ—¶å€™ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œå°†æ¥renderæ–¹æ³•é‡Œé¢å°±å¯ä»¥æ‹¿åˆ°è¿™ä¸ªçŠ¶æ€äº†
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>App</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>render</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>h1</span>&gt;<span style=color:#a6e22e>render</span> <span style=color:#a6e22e>propsæ¨¡å¼</span>&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>         {<span style=color:#75715e>/* mouseæŒ‡çš„å°±æ˜¯this.state  æ–¹æ³•ä¸€å®šè¦æœ‰è¿”å›å€¼*/</span>}
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>Mouse</span> <span style=color:#a6e22e>render</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>mouse</span>)=&gt;
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>              &lt;<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>å½“å‰é¼ æ ‡ä½ç½®</span>{<span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>x</span>},{<span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>y</span>}
</span></span><span style=display:flex><span>              &lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        /&gt;
</span></span><span style=display:flex><span>        {<span style=color:#75715e>/* &lt;Mouse render={(mouse)=&gt;(&lt;p&gt;é¼ æ ‡å½“å‰ä½ç½®{mouse.x},{mouse.y}&lt;/p&gt;)}/&gt; */</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        {<span style=color:#75715e>/* Mouseç»„ä»¶å¤ç”¨ */</span>}
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>Mouse</span> <span style=color:#a6e22e>render</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>mouse</span>=&gt;{
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>img</span>} <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{<span style=color:#a6e22e>position</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#39;absolute&#39;</span>,<span style=color:#a6e22e>left</span><span style=color:#f92672>:</span><span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>top</span><span style=color:#f92672>:</span><span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>width</span><span style=color:#f92672>:</span><span style=color:#ae81ff>70</span>,<span style=color:#a6e22e>height</span><span style=color:#f92672>:</span><span style=color:#ae81ff>80</span>}}/&gt;
</span></span><span style=display:flex><span>        }}/&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>ReactDOM</span>.<span style=color:#a6e22e>render</span>(&lt;<span style=color:#f92672>App</span> /&gt;, document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;root&#39;</span>));
</span></span></code></pre></div><h6 id=æ€»ç»“>æ€»ç»“ï¼š</h6><ul><li>Mouseç»„ä»¶è´Ÿè´£ï¼šå°è£…å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ï¼ˆçŠ¶æ€ï¼Œæ“ä½œçŠ¶æ€çš„æ–¹æ³•ï¼‰</li><li>çŠ¶æ€ï¼šé¼ æ ‡åæ ‡ï¼ˆx,yï¼‰</li><li>æ“ä½œçŠ¶æ€çš„æ–¹æ³•ï¼šé¼ æ ‡ç§»åŠ¨äº‹ä»¶</li><li>ä¼ å…¥çš„render propè´Ÿè´£ï¼šä½¿ç”¨å¤ç”¨çš„çŠ¶æ€æ¥æ¸²æŸ“UIç»“æ„</li></ul><h6 id=23-childrenä»£æ›¿renderå±æ€§>2.3 childrenä»£æ›¿renderå±æ€§</h6><p>æ³¨æ„ï¼šå¹¶ä¸æ˜¯è¯¥æ¨¡å¼å«render propså°±å¿…é¡»ä½¿ç”¨åä¸ºrenderçš„propï¼Œå®é™…ä¸Šå¯ä»¥ä½¿ç”¨ä»»æ„åç§°çš„prop</p><p>æŠŠpropæ˜¯ä¸€ä¸ªå‡½æ•°å¹¶ä¸”å‘Šè¯‰ç»„ä»¶è¦æ¸²æŸ“ä»€ä¹ˆå†…å®¹çš„æŠ€æœ¯å«åšï¼šrender propsæ¨¡å¼</p><p>æ¨èï¼šä½¿ç”¨childrenä»£æ›¿renderå±æ€§</p><h6 id=å®ç°æ–¹æ¡ˆ><strong>å®ç°æ–¹æ¡ˆï¼š</strong></h6><ol><li>mouseç»„ä»¶ä¸­ï¼Œå°†è¿”å›å€¼çš„ this.props.render æ”¹ä¸º this.props.children</li><li>è°ƒç”¨Mouseç»„ä»¶æ—¶ï¼Œå°†å‡½æ•°æ‰§è¡Œæ”¾åœ¨Mouseç»„ä»¶ä¸­</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#75715e>//{å­èŠ‚ç‚¹}
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>&lt;<span style=color:#f92672>Mouse</span>&gt;
</span></span><span style=display:flex><span>	{({<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>y</span>})=&gt;&lt;<span style=color:#f92672>p</span>&gt;<span style=color:#a6e22e>é¼ æ ‡çš„ä½ç½®æ˜¯</span>{<span style=color:#a6e22e>x</span>},{<span style=color:#a6e22e>y</span>}&lt;/<span style=color:#f92672>p</span>&gt;}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>Mouse</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>//ç»„ä»¶å†…éƒ¨
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>children</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>state</span>)
</span></span></code></pre></div><p>childrenä½œä¸ºä¸€ä¸ªå…ƒç´ çš„ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œç»„ä»¶åŒ…è£¹äº†ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæ‹¿ç»„ä»¶å†…éƒ¨çš„æ•°æ®ï¼Œæ¯”å±æ€§ä¸­çš„å‚æ•°æ‹¿ç»„ä»¶ä¸­çš„å†…å®¹è¦æ›´åŠ ç›´è§‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>ReactDOM</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react-dom&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>// render propsæ¨¡å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e>//1.åˆ›å»ºmouseç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Mouse</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>//é¼ æ ‡ä½ç½®state
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   <span style=color:#a6e22e>state</span><span style=color:#f92672>=</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>   <span style=color:#75715e>//é¼ æ ‡ç§»åŠ¨äº‹ä»¶å¤„ç†ç¨‹åº è¦æ‹¿è¦é¼ æ ‡ä½ç½®å°±è¦é€šè¿‡äº‹ä»¶å¯¹è±¡eæ¥è·å–
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   <span style=color:#a6e22e>handleMouseMove</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>e</span> =&gt;{
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>setState</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>clientX</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>clientY</span>
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#75715e>//ç›‘å¬é¼ æ ‡çš„ç§»åŠ¨,componentDidMountè¿™ä¸ªé’©å­å‡½æ•°æ˜¯åˆ›å»ºæ—¶çš„é’©å­å‡½æ•°ï¼Œå®ƒä¼šåœ¨ç»„ä»¶å®Œæˆæ¸²æŸ“ä¹‹åæ¥è¿›è¡Œæ‰§è¡Œ
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   <span style=color:#a6e22e>componentDidMount</span>(){
</span></span><span style=display:flex><span>      window.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;mousemove&#39;</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>handleMouseMove</span>)
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>render</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>children</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>state</span>)
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>App</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>render</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>h1</span>&gt;<span style=color:#a6e22e>render</span> <span style=color:#a6e22e>propsæ¨¡å¼</span>&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>Mouse</span>&gt;
</span></span><span style=display:flex><span>            {<span style=color:#a6e22e>mouse</span>=&gt;{
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>                	&lt;<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>                    	<span style=color:#a6e22e>é¼ æ ‡ä½ç½®</span><span style=color:#960050;background-color:#1e0010>ï¼š</span>{<span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>y</span>},{<span style=color:#a6e22e>mouse</span>.<span style=color:#a6e22e>x</span>}
</span></span><span style=display:flex><span>                    &lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>                )
</span></span><span style=display:flex><span>            }}
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>Mouse</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>ReactDOM</span>.<span style=color:#a6e22e>render</span>(&lt;<span style=color:#f92672>App</span> /&gt;, document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;root&#39;</span>));
</span></span></code></pre></div><h6 id=è”æƒ³contextä¸­çš„ç”¨æ³•>è”æƒ³Contextä¸­çš„ç”¨æ³•</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#75715e>//Contextä¸­çš„ç”¨æ³•
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>&lt;<span style=color:#f92672>Consumer</span>&gt;
</span></span><span style=display:flex><span>    {<span style=color:#75715e>/*render propsæ¨¡å¼ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ˜¯childrençš„æ–¹å¼*/</span>}
</span></span><span style=display:flex><span>	{<span style=color:#a6e22e>data</span>=&gt;&lt;<span style=color:#f92672>span</span>&gt;<span style=color:#a6e22e>dataå‚æ•°è¡¨ç¤ºæ¥æ”¶åˆ°çš„æ•°æ®</span><span style=color:#f92672>--</span>{<span style=color:#a6e22e>data</span>}&lt;/<span style=color:#f92672>span</span>&gt;}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>Consumer</span>&gt;
</span></span></code></pre></div><h6 id=ä»£ç ä¼˜åŒ–>ä»£ç ä¼˜åŒ–</h6><ol><li><p>æ¨è:ç»™render propsæ¨¡å¼æ·»åŠ propsæ ¡éªŒ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#75715e>//å¯¼å…¥propTypes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>PropTypes</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;prop-types&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>Mouse</span>.<span style=color:#a6e22e>propTypes</span><span style=color:#f92672>=</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>children</span><span style=color:#f92672>:</span><span style=color:#a6e22e>PropTypes</span>.<span style=color:#a6e22e>func</span>.<span style=color:#a6e22e>isRequired</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//childrenå®è¡Œæ ¡éªŒï¼šæ˜¯å‡½æ•°ï¼Œä¸”æ˜¯å¿…å¡«é¡¹
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div></li><li><p>åº”è¯¥åœ¨ç»„ä»¶å¸è½½æ—¶è§£é™¤mousemoveäº‹ä»¶ç»‘å®š(ä¸æ˜¯reactè‡ªèº«çš„æ–¹å¼)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#a6e22e>componentWillUnmount</span>(){
</span></span><span style=display:flex><span>    window.<span style=color:#a6e22e>removeEventListener</span>(<span style=color:#e6db74>&#39;mousemove&#39;</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>handleMousemove</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ol><h4 id=ä¸‰é«˜é˜¶ç»„ä»¶>ä¸‰ã€é«˜é˜¶ç»„ä»¶</h4><h5 id=31-æ¦‚è¿°>3.1 æ¦‚è¿°</h5><ul><li><p>ç›®çš„ï¼šå®ç°çŠ¶æ€é€»è¾‘å¤ç”¨</p></li><li><p>é‡‡ç”¨åŒ…è£…ï¼ˆè£…é¥°ï¼‰æ¨¡å¼==>æ‰‹æœºå£³</p><p>æ¯”å¦‚ æ‰‹æœºï¼šè·å–ä¿æŠ¤åŠŸèƒ½ æ‰‹æœºå£³ï¼šæä¾›ä¿æŠ¤åŠŸèƒ½</p></li><li><p>é«˜é˜¶ç»„ä»¶å°±ç›¸å½“äºæ‰‹æœºå£³ï¼Œé€šè¿‡åŒ…è£…ç»„ä»¶ï¼Œå¢å¼ºç»„ä»¶åŠŸèƒ½</p></li></ul><h5 id=32-æ ¸å¿ƒæ€æƒ³>3.2 <strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong></h5><p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ï¼Œçˆ¶ç»„ä»¶æä¾›stateï¼Œå¹¶åœ¨è°ƒç”¨å­ç»„ä»¶æ—¶å°†stateä¼ é€’ç»™å­ç»„ä»¶ï¼›å­ç»„ä»¶ä½¿ç”¨propsæ¥æ”¶stateçš„å€¼ï¼Œè¿›è¡Œé¡µé¢æ¸²æŸ“</p><h5 id=33-æ€è·¯åˆ†æ>3.3 æ€è·¯åˆ†æ</h5><ol><li><p>é«˜é˜¶ç»„ä»¶ï¼ˆHOC,Higher-Order Componentï¼‰æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶è¦åŒ…è£…çš„ç»„ä»¶ï¼Œè¿”å›å¢å¼ºåçš„ç»„ä»¶</p></li><li><p>é«˜é˜¶ç»„ä»¶å†…éƒ¨åˆ›å»ºä¸€ä¸ªç±»ç»„ä»¶ï¼Œåœ¨è¿™ä¸ªç±»ç»„ä»¶ä¸­æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ï¼Œï¼ˆè‡ªèº«ä¸æä¾›UIç»“æ„ï¼ŒUIç»“æ„è¿˜æ˜¯ç”±ä¼ å…¥çš„WrappedComponentè¿›è¡Œæä¾›ï¼‰ï¼Œé€šè¿‡propå°†å¤ç”¨çš„çŠ¶æ€ä¼ é€’ç»™è¢«åŒ…è£…çš„ç»„ä»¶WrappedComponent</p></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>EnhancedComponent</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>withHOC</span>(<span style=color:#a6e22e>WrappedComponent</span>)
</span></span></code></pre></div><p><img src=https://vichywhite.oss-cn-beijing.aliyuncs.com/zlz2023012957/202409241959750.png alt=image-20240924195942541></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#75715e>//é«˜é˜¶ç»„ä»¶å†…éƒ¨åˆ›å»ºçš„ç±»ç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Mouse</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>render</span>(){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>WrappedComponent</span> {<span style=color:#a6e22e>...this.state</span>} /&gt;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=34-ä½¿ç”¨æ­¥éª¤>3.4 ä½¿ç”¨æ­¥éª¤</h5><ol><li><p>åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œåç§°çº¦å®šä»¥withå¼€å¤´</p></li><li><p>æŒ‡å®šå‡½æ•°å‚æ•°ï¼Œå‚æ•°åº”è¯¥ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼ˆå®é™…ä¸Šæ˜¯ç»„ä»¶åç§°ï¼‰ï¼ˆä½œä¸ºè¦æ¸²æŸ“çš„ç»„ä»¶ ç»„ä»¶å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼‰</p></li><li><p>åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªç±»ç»„ä»¶ï¼Œæä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ï¼Œå¹¶è¿”å›</p><p><img src=https://vichywhite.oss-cn-beijing.aliyuncs.com/zlz2023012957/202409252135766.png alt=image-20240925213540672></p></li><li><p>åœ¨è¯¥ç»„ä»¶ä¸­ï¼Œæ¸²æŸ“å‚æ•°ç»„ä»¶ï¼ŒåŒæ—¶å°†çŠ¶æ€é€šè¿‡propä¼ é€’ç»™å‚æ•°ç»„ä»¶ï¼ˆå®šä¹‰å­ç»„ä»¶ï¼Œå­ç»„ä»¶ä½¿ç”¨ props æ¥æ”¶çˆ¶ç»„ä»¶çš„stateï¼Œå¹¶è¿›è¡Œæ¸²æŸ“ï¼‰</p><p><img src=https://vichywhite.oss-cn-beijing.aliyuncs.com/zlz2023012957/202409252136908.png alt=image-20240925213628849></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>withMouse</span>(<span style=color:#a6e22e>WrappedComponent</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Mouse</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Mouse</span>  <span style=color:#75715e>//ä½œä¸ºå½“å‰é«˜é˜¶ç»„ä»¶çš„è¿”å›å€¼
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#75715e>//Mouseç»„ä»¶çš„renderæ–¹æ³•ä¸­ï¼š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>WrappedComponent</span> {<span style=color:#a6e22e>...this</span><span style=color:#960050;background-color:#1e0010>,</span><span style=color:#a6e22e>state</span>} /&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>//å°†å‚æ•°åç§°ä½œä¸ºç»„ä»¶ï¼ŒæŠŠMouseç»„ä»¶çš„çŠ¶æ€ä½œä¸ºå±æ€§ä¼ é€’ç»™å½“å‰ç»„ä»¶ï¼Œå› æ­¤è¿™ä¸ªç»„ä»¶ä¸­å°±èƒ½è·å¾—Mouseç»„ä»¶ä¸­çš„å…±äº«å‡ºæ¥çš„çŠ¶æ€äº†ï¼ˆè¦å¤ç”¨çš„çŠ¶æ€ï¼‰
</span></span></span></code></pre></div></li><li><p>è°ƒç”¨è¯¥é«˜é˜¶ç»„ä»¶ï¼Œä¼ å…¥è¦å¢å¼ºçš„ç»„ä»¶ï¼Œé€šè¿‡è¿”å›å€¼æ‹¿åˆ°å¢å¼ºåçš„ç»„ä»¶ï¼Œå¹¶å°†å…¶æ¸²æŸ“åˆ°é¡µé¢ä¸­</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#75715e>//åˆ›å»ºç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>MousePosition</span> <span style=color:#f92672>=</span><span style=color:#a6e22e>withMouse</span>(<span style=color:#a6e22e>Position</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//æ¸²æŸ“ç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>&lt;<span style=color:#f92672>MousePosition</span>  /&gt;
</span></span></code></pre></div></li></ol><h5 id=ä»£ç å®ç°>ä»£ç å®ç°ï¼š</h5><p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºå¢å¼ºç»„ä»¶å‡½æ•°</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#75715e>// åˆ›å»ºä¸€ä¸ªä»¥ with å¼€å¤´çš„å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>withMouse</span> (<span style=color:#a6e22e>WarppedComponent</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Mouse</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>state</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>handleMouseMove</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>e</span> =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>setState</span>({
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>clientX</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>clientY</span>
</span></span><span style=display:flex><span>          })
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>componentDidMount</span> () {
</span></span><span style=display:flex><span>          window.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;mousemove&#39;</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>handleMouseMove</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    	<span style=color:#75715e>// render æ–¹æ³•ä¸­æ¸²æŸ“å­ç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    	<span style=color:#a6e22e>render</span> () {
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>WarppedComponent</span> {<span style=color:#a6e22e>...this.state</span>}&gt;&lt;/<span style=color:#f92672>WarppedComponent</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Mouse</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ç¬¬äºŒæ­¥ï¼šå®šä¹‰å­ç»„ä»¶ï¼Œå­ç»„ä»¶ä½¿ç”¨ props æ¥æ”¶çˆ¶ç»„ä»¶çš„stateï¼Œå¹¶è¿›è¡Œæ¸²æŸ“</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Position</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>render</span> () {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>      <span style=color:#75715e>// ä½¿ç”¨ props æ¥æ”¶çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„ stateï¼Œå†è¿›è¡Œè°ƒç”¨
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      &lt;<span style=color:#f92672>div</span>&gt;<span style=color:#a6e22e>é¼ æ ‡ä½ç½®</span><span style=color:#f92672>:</span> {<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>x</span>} <span style=color:#f92672>-</span> {<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>y</span>}&lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>PositionMouse</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>withMouse</span>(<span style=color:#a6e22e>Position</span>)
</span></span></code></pre></div><p>ç¬¬ä¸‰æ­¥ï¼šåœ¨ App ç»„ä»¶ä¸­è°ƒç”¨å¢å¼ºç»„ä»¶ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>App</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>PureComponent</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>render</span> () {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>PositionMouse</span> /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å®Œæ•´ä»£ç å®ç°ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>ReactDOM</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react-dom&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>// åˆ›å»ºé«˜é˜¶ç»„ä»¶  å‚æ•°ï¼šè¦è¢«æ¸²æŸ“çš„ç»„ä»¶  è¯¥ç»„ä»¶æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>withMouse</span>(<span style=color:#a6e22e>WrappedComponent</span>){
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Mouse</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//é¼ æ ‡çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>state</span> <span style=color:#f92672>=</span>{
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//äº‹ä»¶å¤„ç†ç¨‹åºçš„å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>handleMouseMove</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>e</span> =&gt;{
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>setState</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>clientX</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>clientY</span>
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>//æ§åˆ¶é¼ æ ‡çŠ¶æ€çš„é€»è¾‘
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>componentDidMount</span>(){
</span></span><span style=display:flex><span>      window.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;mousemove&#39;</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>handleMouseMove</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>//è§£ç»‘äº‹ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>componentWillUnmount</span>(){
</span></span><span style=display:flex><span>      window.<span style=color:#a6e22e>removeEventListener</span>(<span style=color:#e6db74>&#39;mousemove&#39;</span>,<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>handleMouseMove</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>//è¦æ¸²æŸ“çš„UIç»“æ„æ˜¯é€šè¿‡å‚æ•°æ¥åˆ¶å®šçš„ï¼Œåœ¨renderæ–¹æ³•ä¸­æ¸²æŸ“ç»„ä»¶,è¿™ä¸ªç»„ä»¶é€šè¿‡å±•å¼€å°†çŠ¶æ€ä½œä¸ºpropä¼ é€’ç»™å½“å‰ç»„ä»¶ï¼Œå°†æ¥è¿™ä¸ªç»„ä»¶å°±å¯ä»¥é€šè¿‡propsæ¥æ¥æ”¶åˆ°å½“å‰ç»„ä»¶ä¸­å…±äº«å‡ºæ¥ï¼ˆå¤ç”¨ï¼‰çš„çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>render</span>(){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>WrappedComponent</span> {<span style=color:#a6e22e>...this.state</span>}&gt;&lt;/<span style=color:#f92672>WrappedComponent</span>&gt;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Mouse</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//ç”¨æ¥æµ‹è¯•é«˜é˜¶ç»„ä»¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Position</span><span style=color:#f92672>=</span><span style=color:#a6e22e>props</span>=&gt;(
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>å½“å‰é¼ æ ‡çš„ä½ç½®</span><span style=color:#f92672>:</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span>{<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>x</span>},<span style=color:#a6e22e>y</span><span style=color:#f92672>:</span>{<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>y</span>})
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span><span style=color:#75715e>//è·å–å¢å¼ºåçš„ç»„ä»¶ å°†é«˜é˜¶ç»„ä»¶Positionä½œä¸ºå‚æ•°ä¼ è¿›æ¥ï¼Œè¿™é‡Œçš„Positionæ˜¯å®å‚ï¼Œå°†ä¼šæ›¿æ¢æ‰WrappedComponentè¿™ä¸ªå½¢å‚
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>MousePosition</span> <span style=color:#f92672>=</span><span style=color:#a6e22e>withMouse</span>(<span style=color:#a6e22e>Position</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>App</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>render</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>h1</span>&gt;<span style=color:#a6e22e>é«˜é˜¶ç»„ä»¶</span>&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>        {<span style=color:#75715e>/* æ¸²æŸ“å¢å¼ºåçš„ç»„ä»¶ */</span>}
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>MousePosition</span>&gt;&lt;/<span style=color:#f92672>MousePosition</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ReactDOM</span>.<span style=color:#a6e22e>render</span>(&lt;<span style=color:#f92672>App</span> /&gt;, document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;root&#39;</span>));
</span></span></code></pre></div><h5 id=35-è®¾ç½®displayname>3.5 è®¾ç½®displayName</h5><ul><li><p>ä½¿ç”¨é«˜é˜¶ç»„ä»¶å­˜åœ¨çš„é—®é¢˜ï¼šåŒä¸€ä¸ªé«˜é˜¶ç»„ä»¶ä½¿ç”¨ä¸¤æ¬¡æ—¶ï¼Œåœ¨é¡µé¢ä¸­ä¼šå±•ç¤ºå‡ºä¸¤ä¸ªç›¸åŒçš„ç»„ä»¶åï¼Œè¿™æ ·ä¼šé€ æˆè°ƒè¯•ä¸ä¾¿çš„æƒ…å†µ</p></li><li><p>åŸå› ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œreactä½¿ç”¨ç»„ä»¶åç§°ä½œä¸ºdisplayName</p></li><li><p>è§£å†³æ–¹å¼:ä¸ºé«˜é˜¶ç»„ä»¶è®¾ç½®displayNameä¾¿äºè°ƒè¯•æ—¶åŒºåˆ†ä¸åŒçš„ç»„ä»¶</p></li><li><p>displayNameçš„ä½œç”¨ï¼šç”¨äºè®¾ç½®è°ƒè¯•ä¿¡æ¯ï¼ˆReact Developer Toolsä¿¡æ¯ï¼‰</p></li><li><p>è®¾ç½®æ–¹å¼ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span><span style=color:#75715e>//Mouseå³ä¸ºé«˜é˜¶ç»„ä»¶ä¸­è¿”å›çš„ç»„ä»¶çš„åå­—
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Mouse</span> <span style=color:#a6e22e>displayName</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`WithMouse</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>getDisplayName</span>(<span style=color:#a6e22e>WrappedComponent</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>`</span><span style=color:#75715e>//å­—ç¬¦ä¸²åç§°
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>funtion</span> <span style=color:#a6e22e>getDisplayName</span>(<span style=color:#a6e22e>WrappedComponent</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>WrappedComponent</span>.<span style=color:#a6e22e>displayName</span><span style=color:#f92672>||</span><span style=color:#a6e22e>WrappedComponent</span>.<span style=color:#a6e22e>name</span><span style=color:#f92672>||</span><span style=color:#e6db74>&#39;Component&#39;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>WrappedComponent.nameï¼šè¡¨ç¤ºå½“å‰ç»„ä»¶çš„åç§°</p></li></ul><h5 id=36-ä¼ é€’props>3.6 ä¼ é€’props</h5><p>â… ã€é—®é¢˜ï¼šé€ æˆpropsä¸¢å¤±</p><p>â…¡ã€åŸå› ï¼šé«˜é˜¶ç»„ä»¶æ²¡æœ‰å¾€ä¸‹ä¼ é€’props</p><blockquote><p>ï¼ˆå…·ä½“ï¼‰</p><p>a=&lsquo;1&rsquo;çš„å±æ€§æ·»åŠ ç»™äº†MousePosition=>è€ŒMousePositionå…¶å®æ˜¯withMouseé«˜é˜¶ç»„ä»¶çš„è¿”å›å€¼=>é«˜é˜¶ç»„ä»¶çš„è¿”å›å€¼å…¶å®æ˜¯é«˜é˜¶ç»„ä»¶ä¸­çš„Mouse=>Mouseç»„ä»¶å¹¶æ²¡æœ‰æŠŠå±æ€§ä¼ é€’ç»™ä¸‹ä¸€æ­¥è¢«åŒ…è£…çš„ç»„ä»¶</p><p><img src=https://vichywhite.oss-cn-beijing.aliyuncs.com/zlz2023012957/202409251906339.png alt=image-20240925190606182></p></blockquote><p>â…¢ã€è§£å†³æ–¹å¼ï¼šæ¸²æŸ“WrappedComponentæ—¶ï¼Œå°†stateå’Œthis.propsä¸€èµ·ä¼ é€’ç»™ç»„ä»¶</p><p>â…£ã€ä¼ é€’æ–¹å¼ï¼šæ—¢å»å±•å¼€stateï¼Œä¹Ÿå»å±•å¼€propsï¼Œä¼ é€’ç»™WrappedComponent</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-react data-lang=react><span style=display:flex><span>&lt;<span style=color:#f92672>WrappedComponent</span> {<span style=color:#a6e22e>...state</span>} {<span style=color:#a6e22e>...props</span>} /&gt;
</span></span></code></pre></div><p><img src=https://vichywhite.oss-cn-beijing.aliyuncs.com/zlz2023012957/202409251909359.png alt=image-20240925190951287></p></div><div class="share m-2 grid grid-cols-2 lg:grid-cols-3 gap-2"><a href="https://twitter.com/intent/tweet?url=http%3a%2f%2fwww.bluemsun.com.cn%2fblog%2f2zlz%2f&text=%e7%bb%84%e4%bb%b6%e5%a4%8d%e7%94%a8render%20props%e5%92%8c%e9%ab%98%e9%98%b6%e7%bb%84%e4%bb%b6" target=_blank title=Post class="share-button x"><div class="text-white text-center"><span class="icon-x text-lg mr-2"></span>X</div></a><a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fwww.bluemsun.com.cn%2fblog%2f2zlz%2f&t=%e7%bb%84%e4%bb%b6%e5%a4%8d%e7%94%a8render%20props%e5%92%8c%e9%ab%98%e9%98%b6%e7%bb%84%e4%bb%b6" target=_blank title=Facebook class="share-button facebook"><div class="text-white text-center"><span class="icon-facebook text-lg mr-2"></span>Facebook</div></a><a href="https://b.hatena.ne.jp/add?mode=confirm&url=http%3a%2f%2fwww.bluemsun.com.cn%2fblog%2f2zlz%2f&title=%e7%bb%84%e4%bb%b6%e5%a4%8d%e7%94%a8render%20props%e5%92%8c%e9%ab%98%e9%98%b6%e7%bb%84%e4%bb%b6" target=_blank title=hatena class="share-button hatena"><div class="text-white text-center"><span class="icon-hatenabookmark text-lg mr-2"></span>Hatena</div></a><a href="https://getpocket.com/edit?url=http%3a%2f%2fwww.bluemsun.com.cn%2fblog%2f2zlz%2f&title=%e7%bb%84%e4%bb%b6%e5%a4%8d%e7%94%a8render%20props%e5%92%8c%e9%ab%98%e9%98%b6%e7%bb%84%e4%bb%b6" target=_blank title=pocket class="share-button pocket"><div class="text-white text-center"><span class="icon-get-pocket text-lg mr-2"></span>Pocket</div></a><a href="https://timeline.line.me/social-plugin/share?url=http%3a%2f%2fwww.bluemsun.com.cn%2fblog%2f2zlz%2f" class="share-button line"><div class="text-white text-center"><span class="icon-line text-lg mr-2"></span>LINE</div></a><a href=javascript:OnClickURL(); class="share-button url" title="Copy to Clipboard" data-clipboard-text="ç»„ä»¶å¤ç”¨render propså’Œé«˜é˜¶ç»„ä»¶ http://www.bluemsun.com.cn/blog/2zlz/" id=url><div class="text-white text-center"><span class="icon-link text-lg mr-2"></span>Copy</div></a></div><hr class=py-4><aside id=meta><div class="grid grid-cols-2"><div class=col-span-1><a class="previous lg:text-2xl" href=http://www.bluemsun.com.cn/blog/3dyh/><div class="transition-colors duration-300 border border-gray-600 hover:border-black h-auto m-3 text-center py-3 lg:py-1"><span class=icon-keyboard_arrow_left></span> Webâ€¦</div></a></div><a class="next lg:text-2xl" href=http://www.bluemsun.com.cn/blog/4zgs/><div class="transition-colors duration-300 col-span-1 border border-gray-600 hover:border-black h-auto m-3 text-center py-3 lg:py-1">JavaåŸºç¡€çŸ¥è¯† <span class=icon-keyboard_arrow_right></span></div></a></div></aside></div></div></main><footer class=bg-tlgray-100><script src=../../js/clipboard.min.js></script><script src=../../js/highlight.min.js></script><script src=../../js/highlightjs-line-numbers.min.js></script><script src=../../js/sweetalert2.min.js></script><script>hljs.initHighlightingOnLoad(),hljs.initLineNumbersOnLoad(),new ClipboardJS(".url");function OnClickURL(){Swal.fire({icon:"success",title:"Copied!",text:"Copied the URL and title."})}</script><script>function toggleNav(){var e=document.getElementById("hamburgerbtn"),t=document.getElementById("overlay"),n=document.body;e.addEventListener("click",function(){t.classList.toggle("open"),e.classList.toggle("is-open"),n.classList.toggle("scroll-lock")})}toggleNav(),document.querySelector(".scroll-top").addEventListener("click",()=>{document.documentElement.scrollTop=0})</script><link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Open+Sans&display=swap" rel=stylesheet><div class="flex items-center justify-between flex-wrap bg-gray-800 p-8 text-white"><div class="items-center text-xl text-grey-900 mr-6 flex flex-row"><img alt="Bluemsun Studio" class="lg:h-14 h-10 mr-8" src=../../img/logo/logo.jpg><div><h1 class="px-2 text-3xl tracking-tighter text-balance max-lg:font-medium max-sm:px-4 sm:text-5xl lg:text-6xl xl:text-8xl">è“æ—­å·¥ä½œå®¤</h1><h2 class="px-2 text-xl tracking-tighter text-balance max-lg:font-medium max-sm:px-4 sm:text-3xl lg:text-4xl xl:text-6xl">Bluemsun Studio</h2></div></div><div class="w-full block flex-grow lg:flex lg:items-center lg:w-auto" id=mobileMenu><div class="text-lg lg:flex-grow"></div><div class="flex flex-row items-center text-lg"><a href=https://github.com/BluemsunOffice class="block mt-4 lg:inline-block lg:mt-0 text-gray-300 hover:text-white mr-8"><i class='icon-github text-2xl'></i></a></div></div></div><div class="copy pl-8 py-5 bg-tlgray-700 text-white text-md w-full text-center">&copy; Hello! Bluemsun 2025 All Rights Reserved.<br>æµ™ICPå¤‡2024119634å·</div></footer></body></html>